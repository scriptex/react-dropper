{"version":3,"sources":["webpack://react-dropper/./demo/atanas.jpeg","webpack://react-dropper/./src/index.tsx","webpack://react-dropper/external \"React\"","webpack://react-dropper/external \"ReactDOM\"","webpack://react-dropper/webpack/bootstrap","webpack://react-dropper/webpack/runtime/define property getters","webpack://react-dropper/webpack/runtime/global","webpack://react-dropper/webpack/runtime/hasOwnProperty shorthand","webpack://react-dropper/webpack/runtime/make namespace object","webpack://react-dropper/webpack/runtime/publicPath","webpack://react-dropper/./demo/index.tsx"],"names":["extendStatics","__extends","this","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__read","o","n","m","Symbol","iterator","r","e","i","ar","next","done","push","value","error","defineProperty","exports","Dropper","React","_super","_this","apply","arguments","canvas","createRef","state","oldColor","drawImage","imageElement","Image","_a","props","width","height","image","onload","current","getContext","src","crossOrigin","getImageData","offset","getBoundingClientRect","canvasX","Math","floor","pageX","left","canvasY","pageY","top","data","setColor","preventDefault","length","g","newColor","toString","type","onChange","componentWillMount","setState","color","render","createElement","className","ref","onClick","onMouseMove","onMouseLeave","defaultProps","sync","Component","module","ReactDOM","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","definition","key","enumerable","get","globalThis","Function","window","obj","prop","toStringTag","scriptUrl","importScripts","location","document","currentScript","scripts","getElementsByTagName","Error","replace","src_1","Avatar","id","getElementById","style","backgroundColor","alert"],"mappings":"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","file":"bundle.js","sourcesContent":["export default __webpack_public_path__ + \"b8bd69af6ba4211745a13719e108a110.jpeg\";","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dropper = void 0;\nvar React = require(\"react\");\nvar Dropper = (function (_super) {\n    __extends(Dropper, _super);\n    function Dropper() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.canvas = React.createRef();\n        _this.state = {\n            oldColor: ''\n        };\n        _this.drawImage = function () {\n            var imageElement = new Image();\n            var _a = _this.props, width = _a.width, height = _a.height, image = _a.image;\n            imageElement.onload = function () {\n                var canvas = _this.canvas.current;\n                if (canvas && canvas.getContext('2d')) {\n                    canvas.getContext('2d').drawImage(imageElement, 0, 0, width, height);\n                }\n            };\n            imageElement.src = image;\n            imageElement.crossOrigin = 'Anonymous';\n        };\n        _this.getImageData = function (e) {\n            var canvas = _this.canvas.current;\n            if (canvas && canvas.getContext('2d')) {\n                var offset = canvas.getBoundingClientRect();\n                var canvasX = Math.floor(e.pageX - offset.left);\n                var canvasY = Math.floor(e.pageY - offset.top);\n                var imageData = canvas.getContext('2d').getImageData(canvasX, canvasY, 1, 1);\n                return imageData.data;\n            }\n            return [];\n        };\n        _this.setColor = function (e) {\n            e.preventDefault();\n            var data = _this.getImageData(e);\n            if (!data.length) {\n                _this.props.onChange(_this.state.oldColor, false);\n                return;\n            }\n            var _a = __read(_this.getImageData(e), 3), r = _a[0], g = _a[1], b = _a[2];\n            var newColor = \"#\" + (b + 256 * g + 65536 * r).toString(16);\n            if (e.type === 'mousemove') {\n                _this.props.onChange(newColor, false);\n            }\n            if (e.type === 'mouseleave') {\n                _this.props.onChange(_this.state.oldColor, true);\n            }\n            if (e.type === 'click') {\n                _this.props.onChange(newColor, true);\n            }\n        };\n        return _this;\n    }\n    Dropper.prototype.componentWillMount = function () {\n        this.setState({\n            oldColor: this.props.color\n        });\n    };\n    Dropper.prototype.render = function () {\n        this.drawImage();\n        return (React.createElement(\"canvas\", { className: this.props.className, width: this.props.width, height: this.props.height, ref: this.canvas, onClick: this.setColor, onMouseMove: this.setColor, onMouseLeave: this.setColor }));\n    };\n    Dropper.defaultProps = {\n        width: 300,\n        height: 150,\n        color: '#ffffff',\n        image: '',\n        className: 'react-dropper',\n        onChange: function (color, sync) { return undefined; }\n    };\n    return Dropper;\n}(React.Component));\nexports.Dropper = Dropper;\n","module.exports = React;","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar src_1 = require(\"../src\");\nvar Avatar = require(\"./atanas.jpeg\");\nvar get = function (id) { return document.getElementById(id); };\nReactDOM.render(React.createElement(src_1.Dropper, { width: 400, height: 400, color: \"#000000\", image: Avatar, className: \"react-dropper\", onChange: function (color, sync) {\n        if (get('result')) {\n            get('result').style.backgroundColor = color;\n        }\n        if (sync) {\n            alert('Color set to ' + color);\n        }\n    } }), get('demo'));\n"],"sourceRoot":""}