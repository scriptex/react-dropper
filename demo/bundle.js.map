{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://react-dropper/./dist/index.js","webpack://react-dropper/./node_modules/react-dom/client.js","webpack://react-dropper/external var \"React\"","webpack://react-dropper/external var \"ReactDOM\"","webpack://react-dropper/webpack/bootstrap","webpack://react-dropper/webpack/runtime/global","webpack://react-dropper/webpack/runtime/publicPath","webpack://react-dropper/./demo/index.tsx"],"sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dropper = void 0;\nvar React = require(\"react\");\nvar Dropper = function (_a) {\n    var width = _a.width, height = _a.height, color = _a.color, image = _a.image, className = _a.className, onChange = _a.onChange;\n    var canvas = React.createRef();\n    var _b = __read(React.useState(color), 2), oldColor = _b[0], setOldColor = _b[1];\n    var drawImage = React.useCallback(function () {\n        var imageElement = new Image();\n        imageElement.onload = function () {\n            var _a;\n            if (canvas.current && canvas.current.getContext('2d')) {\n                (_a = canvas.current.getContext('2d')) === null || _a === void 0 ? void 0 : _a.drawImage(imageElement, 0, 0, width, height);\n            }\n        };\n        imageElement.src = image;\n        imageElement.crossOrigin = 'Anonymous';\n    }, []);\n    var getImageData = React.useCallback(function (e) {\n        var _a;\n        if (canvas.current && canvas.current.getContext('2d')) {\n            var offset = canvas.current.getBoundingClientRect();\n            var canvasX = Math.floor(e.pageX - offset.left);\n            var canvasY = Math.floor(e.pageY - offset.top);\n            var imageData = (_a = canvas.current.getContext('2d')) === null || _a === void 0 ? void 0 : _a.getImageData(canvasX, canvasY, 1, 1);\n            return imageData === null || imageData === void 0 ? void 0 : imageData.data;\n        }\n        return;\n    }, []);\n    var setColor = React.useCallback(function (e) {\n        e.preventDefault();\n        var data = getImageData(e);\n        if (!(data === null || data === void 0 ? void 0 : data.length)) {\n            onChange(oldColor, false);\n            return;\n        }\n        var _a = __read(data, 3), r = _a[0], g = _a[1], b = _a[2];\n        var newColor = \"#\".concat((b + 256 * g + 65536 * r).toString(16));\n        if (e.type === 'mousemove') {\n            onChange(newColor, false);\n        }\n        if (e.type === 'click') {\n            onChange(newColor, true);\n        }\n    }, []);\n    React.useEffect(function () {\n        drawImage();\n    }, []);\n    return (React.createElement(\"canvas\", { ref: canvas, width: width, height: height, className: className, onClick: setColor, onMouseMove: setColor }));\n};\nexports.Dropper = Dropper;\nexports.Dropper.defaultProps = {\n    width: 300,\n    height: 150,\n    color: '#ffffff',\n    image: '',\n    className: 'react-dropper',\n    onChange: function (color, sync) { return undefined; }\n};\nexports.default = exports.Dropper;\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = React;","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar client_1 = require(\"react-dom/client\");\nvar dist_1 = require(\"../dist\");\nvar Avatar = require(\"./atanas.jpeg\");\nvar get = function (id) { return document.getElementById(id); };\nvar root = (0, client_1.createRoot)(document.getElementById('demo') || document.createElement('div'));\nroot.render(React.createElement(dist_1.Dropper, { width: 400, height: 400, color: \"#000000\", image: Avatar, className: \"react-dropper\", onChange: function (color, sync) {\n        if (get('result')) {\n            get('result').style.backgroundColor = color;\n        }\n        if (sync) {\n            alert('Color set to ' + color);\n        }\n    } }));\n"],"names":["__read","this","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","Object","defineProperty","exports","Dropper","React","_a","width","height","color","image","className","onChange","canvas","createRef","_b","useState","oldColor","drawImage","useCallback","imageElement","Image","onload","current","getContext","src","crossOrigin","getImageData","offset","getBoundingClientRect","canvasX","Math","floor","pageX","left","canvasY","pageY","top","imageData","data","setColor","preventDefault","length","g","b","newColor","concat","toString","type","useEffect","createElement","ref","onClick","onMouseMove","defaultProps","sync","createRoot","hydrateRoot","module","ReactDOM","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","globalThis","Function","window","scriptUrl","importScripts","location","document","currentScript","scripts","getElementsByTagName","Error","replace","p","client_1","dist_1","Avatar","get","id","getElementById","render","style","backgroundColor","alert"],"sourceRoot":""}