{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://react-dropper/./dist/index.js","webpack://react-dropper/./node_modules/react-dom/client.js","webpack://react-dropper/external var \"React\"","webpack://react-dropper/external var \"ReactDOM\"","webpack://react-dropper/webpack/bootstrap","webpack://react-dropper/webpack/runtime/global","webpack://react-dropper/webpack/runtime/publicPath","webpack://react-dropper/./demo/index.tsx"],"sourcesContent":["\"use strict\";\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Dropper = void 0;\nvar React = require(\"react\");\nvar Dropper = function (_a) {\n    var _b = _a.width, width = _b === void 0 ? 300 : _b, _c = _a.height, height = _c === void 0 ? 150 : _c, _d = _a.color, color = _d === void 0 ? '#ffffff' : _d, _e = _a.image, image = _e === void 0 ? '' : _e, _f = _a.className, className = _f === void 0 ? 'react-dropper' : _f, _g = _a.onChange, onChange = _g === void 0 ? function () { return undefined; } : _g;\n    var canvas = React.createRef();\n    var _h = __read(React.useState(color), 1), oldColor = _h[0];\n    var drawImage = React.useCallback(function () {\n        var imageElement = new Image();\n        imageElement.onload = function () {\n            var _a;\n            if (canvas.current && canvas.current.getContext('2d')) {\n                (_a = canvas.current.getContext('2d')) === null || _a === void 0 ? void 0 : _a.drawImage(imageElement, 0, 0, width, height);\n            }\n        };\n        imageElement.src = image;\n        imageElement.crossOrigin = 'Anonymous';\n    }, []);\n    var getImageData = React.useCallback(function (e) {\n        var _a;\n        if (canvas.current && canvas.current.getContext('2d')) {\n            var offset = canvas.current.getBoundingClientRect();\n            var canvasX = Math.floor(e.pageX - offset.left);\n            var canvasY = Math.floor(e.pageY - offset.top);\n            var imageData = (_a = canvas.current.getContext('2d')) === null || _a === void 0 ? void 0 : _a.getImageData(canvasX, canvasY, 1, 1);\n            return imageData === null || imageData === void 0 ? void 0 : imageData.data;\n        }\n        return;\n    }, []);\n    var setColor = React.useCallback(function (e) {\n        e.preventDefault();\n        var data = getImageData(e);\n        if (!(data === null || data === void 0 ? void 0 : data.length)) {\n            onChange(oldColor, false);\n            return;\n        }\n        var _a = __read(data, 3), r = _a[0], g = _a[1], b = _a[2];\n        var newColor = \"#\".concat((b + 256 * g + 65536 * r).toString(16));\n        if (e.type === 'mousemove') {\n            onChange(newColor, false);\n        }\n        if (e.type === 'click') {\n            onChange(newColor, true);\n        }\n    }, []);\n    React.useEffect(function () {\n        drawImage();\n    }, []);\n    return (React.createElement(\"canvas\", { ref: canvas, width: width, height: height, className: className, onClick: setColor, onMouseMove: setColor }));\n};\nexports.Dropper = Dropper;\nexports.default = exports.Dropper;\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","module.exports = React;","module.exports = ReactDOM;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar client_1 = require(\"react-dom/client\");\nvar dist_1 = require(\"../dist\");\nvar Avatar = require(\"./atanas.jpeg\");\nvar get = function (id) { return document.getElementById(id); };\nvar root = (0, client_1.createRoot)(document.getElementById('demo') || document.createElement('div'));\nroot.render(React.createElement(dist_1.Dropper, { width: 400, height: 400, color: \"#000000\", image: Avatar, className: \"react-dropper\", onChange: function (color, sync) {\n        if (get('result')) {\n            get('result').style.backgroundColor = color;\n        }\n        if (sync) {\n            alert('Color set to ' + color);\n        }\n    } }));\n"],"names":["__read","this","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","Object","defineProperty","exports","Dropper","React","_a","_b","width","_c","height","_d","color","_e","image","_f","className","_g","onChange","canvas","createRef","oldColor","useState","drawImage","useCallback","imageElement","Image","onload","current","getContext","src","crossOrigin","getImageData","offset","getBoundingClientRect","canvasX","Math","floor","pageX","left","canvasY","pageY","top","imageData","data","setColor","preventDefault","length","g","b","newColor","concat","toString","type","useEffect","createElement","ref","onClick","onMouseMove","createRoot","hydrateRoot","module","ReactDOM","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","globalThis","Function","window","scriptUrl","importScripts","location","document","currentScript","scripts","getElementsByTagName","Error","replace","p","client_1","dist_1","Avatar","get","id","getElementById","render","sync","style","backgroundColor","alert"],"sourceRoot":""}